---
title: 排列组合
description: 排列组合-数量关系-学堂
keywords: 排列组合,数量关系,行测,数量关系
---

import BlurredAnswer from '@/components/ui/BlurredAnswer';
import FollowMe from '@/components/FollowMe';

# 排列组合

排列组合是公务员考试中的高频考点，既是重点也是难点。但实际上，只要掌握了核心概念、基本方法和常见题型，这类题目就可以轻松拿下。本章将带你由浅入深，彻底掌握排列组合。

## 一、核心概念

在学习具体的公式和技巧之前，我们必须先理解排列组合最底层的两个基本原理：加法原理和乘法原理。

### （一）两大基本原理

#### 1. 加法原理（分类思想）

<span style={{color:'red'}}>**核心：**</span> 完成一件事，有若干类方法，类与类之间是独立的，任何一类方法中的任何一种方法都能独立完成任务。最终的方法数是各类方法数相加。

**口诀：** 分类用加法，类类独立。

**生活实例：**
小明周末要从家去图书馆，他可以选择步行、骑行或者乘坐公交车。
- 步行有2条不同的路线。
- 骑行有3条不同的路线。
- 乘坐公交车有2路车可以到达。

请问小明从家到图书馆共有多少种不同的方式？

**解析：**
这里的“去图书馆”这件事，可以分为三“类”方式：步行、骑行、坐公交。每一类方式都可以独立完成这件事。
- 第1类：步行，有2种方法。
- 第2类：骑行，有3种方法。
- 第3类：坐公交，有2种方法。
根据加法原理，总的方法数就是各类方法数之和：
$$ N = 2 + 3 + 2 = 7 $$
所以，小明共有7种不同的方式去图书馆。

#### 2. 乘法原理（分步思想）

<span style={{color:'red'}}>**核心：**</span> 完成一件事，需要分成若干个步骤，每个步骤缺一不可，需要依次完成所有步骤才能最终完成任务。最终的方法数是各个步骤的方法数相乘。

**口诀：** 分步用乘法，步步相连。

**生活实例：**
小红参加聚会，需要先选一件上衣，再选一条裤子。衣柜里有3件不同的上衣和2条不同的裤子。请问小红有多少种不同的搭配方式？

**解析：**
这里的“搭配”这件事，需要分两“步”完成：第一步选上衣，第二步选裤子。
- 第1步：选上衣，有3种选择。
- 第2步：选裤子，有2种选择。
对于每一种上衣的选择，都可以搭配2种不同的裤子。根据乘法原理，总的搭配方式就是各步骤方法数之积：
$$ N = 3 \times 2 = 6 $$
所以，小红共有6种不同的搭配方式。

### （二）排列与组合

#### 1. 排列 (Permutation, 记作 A)

<span style={{color:'red'}}>**定义：**</span> 从 $$n$$ 个不同元素中，取出 $$m$$（$$m \le n$$）个元素，并<span style={{color:'red'}}>按照一定的顺序</span>排成一列。

<span style={{color:'red'}}>**核心：**</span> “取出”并“排序”，顺序至关重要。

**生活实例：**
班级要从甲、乙、丙3位同学中，选出2位分别担任班长和学习委员。有多少种不同的选举结果？

**解析：**
这里不仅要选出2个人，还要给他们分配不同的职位（班长、学习委员），顺序是重要的（甲当班长、乙当学委 vs 乙当班长、甲当学委，是两种不同结果）。
我们可以分步考虑：
- **第一步：选举班长**。从3位同学中选1位，有3种选择。
- **第二步：选举学习委员**。剩下2位同学中选1位，有2种选择。
根据乘法原理，总的选举结果有 $$3 \times 2 = 6$$ 种。

**公式推导：**
从 $$n$$ 个不同元素中，有顺序地选出 $$m$$ 个。
- 选第1个位置的元素，有 $$n$$ 种选择；
- 选第2个位置的元素，有 $$n-1$$ 种选择；
- ...
- 选第 $$m$$ 个位置的元素，有 $$n-m+1$$ 种选择。
根据乘法原理，总的排列数（记作 $$A_n^m$$ 或 $$P_n^m$$）为：
$$
A_n^m = n \times (n-1) \times (n-2) \times \cdots \times (n-m+1)
$$
特别地，当 $$m=n$$ 时，称为全排列，$$A_n^n = n!$$（读作n的阶乘）。

#### 2. 组合 (Combination, 记作 C)

<span style={{color:'red'}}>**定义：**</span> 从 $$n$$ 个不同元素中，只<span style={{color:'red'}}>取出</span> $$m$$（$$m \le n$$）个元素，并成一组，<span style={{color:'red'}}>不考虑顺序</span>。

<span style={{color:'red'}}>**核心：**</span> 只“取出”，不“排序”，顺序无关。

**生活实例：**
班级要从甲、乙、丙3位同学中，选出2位去参加一个座谈会。有多少种不同的选法？

**解析：**
这里只是选出2个人，谁先被选中、谁后被选中没有区别（选出“甲和乙”与选出“乙和甲”是同一种结果）。
- 所有可能的结果是：`{甲, 乙}`、`{甲, 丙}`、`{乙, 丙}`。共3种。

**公式推导：**
如何计算组合数 $$C_n^m$$ 呢？我们可以借助排列来理解。
排列（$$A_n^m$$）可以看作两步：
- **第一步：组合**。先从 $$n$$ 个元素中不计顺序地选出 $$m$$ 个，这就是组合数 $$C_n^m$$。
- **第二步：排列**。将这选出的 $$m$$ 个元素进行全排列，有 $$A_m^m = m!$$ 种方法。
根据乘法原理，$$A_n^m = C_n^m \times m!$$。
因此，我们可以推导出组合数公式：
$$
C_n^m = \frac{A_n^m}{m!} = \frac{n(n-1)(n-2)\cdots(n-m+1)}{m!}
$$
**重要性质：** 从n个里面选m个，等价于从n个里面“剩下”n-m个。所以 $$C_n^m = C_n^{n-m}$$。例如，从6人中选2人去打饭（$$C_6^2$$），和从6人中选4人留守寝室（$$C_6^4$$）的选法数是一样的。

## 二、技巧总结

排列组合的题目千变万化，但万变不离其宗。掌握以下核心解题策略，就能应对绝大多数问题。

### （一）两大思维核心：分类与分步
解排列组合题，第一步永远是判断用加法还是乘法原理。
- <span style={{color:'red'}}>**分类用加法**</span>：完成一件事有几“类”方法，类与类互不干扰，任何一类都能独立完成。总方法 = 方法1 + 方法2 + ...
- <span style={{color:'red'}}>**分步用乘法**</span>：完成一件事需要几“个”步骤，步与步环环相扣，缺一不可。总方法 = 步骤1 × 步骤2 × ...

### （二）两大优先原则：特殊元素与特殊位置
当题目中含有特殊元素或特殊位置时，应优先处理这些特殊情况，这叫“特殊优先法”。
- **元素优先**：某些元素有特殊要求，如“甲必须在排头”、“乙不能站中间”。先安排这些特殊元素。
- **位置优先**：某些位置有特殊要求，如“排头必须是男生”、“末位不能是数字0”。先满足这些特殊位置。

### （三）三大经典模型：相邻、不相邻与定序

#### 1. 相邻问题 → 捆绑法
- **题眼**：要求某些元素必须“相邻”、“在一起”。
- **策略**：<span style={{color:'red'}}>“先捆绑，再整体排列，最后内部排列”</span>。将相邻的元素“捆绑”成一个大元素，与其他元素一起排列，然后再考虑“捆绑”元素内部的排列顺序。

#### 2. 不相邻问题 → 插空法
- **题眼**：要求某些元素“不相邻”、“不排在一起”。
- **策略**：<span style={{color:'red'}}>“先排其他元素，再将不相邻的元素插入到空位中”</span>。先将没有限制的元素排好，它们之间会形成若干“空位”（包括两端），再将要求不相邻的元素插入这些空位中。

#### 3. 定序问题 → 缩倍法/等概率法
- **题眼**：要求某些元素保持固定的“相对顺序”（如甲必须在乙的左边）。
- **策略**：先将所有元素进行全排列，然后除以定序元素的全排列数。因为在所有排列中，定序的几个元素之间的各种相对顺序是等概率出现的。
- **公式**：$$n$$ 个元素排列，其中 $$k$$ 个元素顺序固定，方法数为 $$\frac{n!}{k!}$$。

### （四）相同元素的分配问题 → 插板法

- **题眼**：将 $$n$$ 个<span style={{color:'red'}}>相同</span>的物品，分给 $$m$$ 个<span style={{color:'red'}}>不同</span>的人/组。
- **1. 每组至少一个（标准插板法）**
  - **策略**：将n个元素看成一排，它们之间形成了 $$n-1$$ 个空隙。要分成m组，只需要在这 $$n-1$$ 个空隙中插入 $$m-1$$ 个“隔板”即可。
  - **公式**：$$C_{n-1}^{m-1}$$。
- **2. 允许有组为空（添板法/借元法）**
  - **策略**：先想象给每个组“借”一个物品，保证它们都非空。问题转化为“将 $$n+m$$ 个物品分给 $$m$$ 个组，每组至少一个”。
  - **公式**：$$C_{n+m-1}^{m-1}$$。

### （五）高频考点模型

- **错位排列**：n个元素的全排列，要求每个元素都不在自己原来的位置上。
  - **公式**：$$D_1=0, D_2=1, D_3=2, D_4=9, D_5=44, D_6=265$$。（常考到D5，建议记忆）
  - **递推**：$$D_n = (n-1)(D_{n-1} + D_{n-2})$$
- **圆周排列**：n个元素围成一圈的排列。
  - **策略**：与直线排列不同，圆周排列没有首尾之分，需要固定一个元素作为参照。
  - **公式**：$$\frac{A_n^n}{n} = (n-1)!$$。
- **分组问题**
  - **非均等分组**：如9本书分成2、3、4三堆，方法数为 $$C_9^2 C_7^3 C_4^4$$。
  - **均等分组**：如6本书均分成3堆（每堆2本），方法数为 $$\frac{C_6^2 C_4^2 C_2^2}{A_3^3}$$。需要除以组数的阶乘 $$A_m^m$$ 来消除组与组之间的顺序。
- **比赛问题**
  - **单循环赛**：每两队之间比赛一场，$$n$$ 支队共比赛 $$C_n^2$$ 场。
  - **淘汰赛**：$$n$$ 支队决出冠军，共需比赛 $$n-1$$ 场。

### （六）兜底策略：正难则反

- **逆向计数法**：当正面情况分类复杂、计算繁琐时，可以尝试计算其对立面（反面）的情况数，再用总情况数减去反面情况数。尤其适用于“<span style={{color:'red'}}>至少...</span>”或“<span style={{color:'red'}}>至多...</span>”的题型。

## 三、真题讲解

### 捆绑法与插空法

**例1：【捆绑法】**
四对情侣排成一队买演唱会门票，已知每对情侣必须排在一起，问共有多少种不同的排队顺序?

- A. 24
- B. 96
- C. 384
- D. 40320

<BlurredAnswer>
**主题：** 捆绑法应用

**思路剖析：** 题眼是“每对情侣必须排在一起”，这是典型的<span style={{color:'red'}}>相邻问题</span>，应使用“捆绑法”。先把每对情侶看成一个整体，再考虑情侣内部的顺序。

**解答：**
1.  **第一步：捆绑处理。** 将四对情侣分别捆绑，看作4个独立的“大元素”。
2.  **第二步：外部排列。** 对这4个“大元素”进行全排列，安排它们的顺序，共有 $$A_4^4$$ 种方法。
    $$A_4^4 = 4 \times 3 \times 2 \times 1 = 24$$ 种。
3.  **第三步：内部排列。** 每一对情侣（2人）内部都可以交换位置，有 $$A_2^2 = 2$$ 种排法。因为有四对情侣，所以内部排列共有 $$2 \times 2 \times 2 \times 2 = 2^4 = 16$$ 种。
4.  **第四步：计算总量。** 根据乘法原理，总的排队顺序为外部排列数乘以内部排列数，即 $$24 \times 16 = 384$$ 种。

因此，选择 **C**。
</BlurredAnswer>

**例2：【插空法】**
3名医生和6名护士排成一排，要求3名医生互不相邻，问有多少种排法？

- A. 30240
- B. 151200
- C. 1200
- D. 720

<BlurredAnswer>
**主题：** 插空法应用

**思路剖析：** 题眼是“医生互不相邻”，这是典型的<span style={{color:'red'}}>不相邻问题</span>，应使用“插空法”。核心思想是先安排没有限制条件的护士，然后将医生插入到护士形成的空隙中。

**解答：**
1.  **第一步：排列护士。** 先将6名护士进行全排列，共有 $$A_6^6$$ 种排法。
    $$A_6^6 = 6! = 720$$ 种。
2.  **第二步：制造并选择空位。** 6名护士排好后，会形成7个空位（包括队伍的两端）：
    `_ 护 _ 护 _ 护 _ 护 _ 护 _ 护 _`
3.  **第三步：插入医生。** 将3名医生插入到这7个空位中，由于医生是不同的，插入时有顺序要求，所以是排列。方法数为 $$A_7^3$$。
    $$A_7^3 = 7 \times 6 \times 5 = 210$$ 种。
4.  **第四步：计算总量。** 根据乘法原理，总的排法数为 $$720 \times 210 = 151200$$ 种。

因此，选择 **B**。
</BlurredAnswer>

### 插板法

**例3：【插板法】**
将7个大小相同的桔子分给4个小朋友，要求每个小朋友至少得到1个桔子，一共有几种分配方法？

- A. 14
- B. 18
- C. 20
- D. 22

<BlurredAnswer>
**主题：** 插板法基础应用

**思路剖析：** 题眼是“<span style={{color:'red'}}>相同</span>的桔子”分给“<span style={{color:'red'}}>不同</span>的小朋友”，且“每人<span style={{color:'red'}}>至少一个</span>”。这是标准的使用插板法的信号。

**解答：**
1.  **第一步：具象化问题。** 将7个桔子（用 O 代表）排成一排：
    O O O O O O O
2.  **第二步：寻找插板位置。** 这7个桔子之间形成了 $$7-1=6$$ 个空隙。
    O `_` O `_` O `_` O `_` O `_` O `_` O
3.  **第三步：插入隔板。** 要将桔子分成4份，需要在这6个空隙中插入$$4-1=3$$个隔板。每个空隙最多插一个板。
4.  **第四步：计算方法数。** 从6个空隙中选出3个位置放隔板，不考虑隔板的顺序，是组合问题。方法数为 $$C_6^3$$。
    $$C_6^3 = \frac{6 \times 5 \times 4}{3 \times 2 \times 1} = 20$$ 种。

因此，选择 **C**。
</BlurredAnswer>

### 错位排列

**例4：【错位排列】**
四位厨师聚餐时各做一道拿手菜。现在要求每人去品尝一道菜，但不能尝自己的那道。问共有几种不同尝法？

- A. 6
- B. 9
- C. 12
- D. 15

<BlurredAnswer>
**主题：** 错位排列模型

**思路剖析：** 4个厨师对应4道菜，每人选一道，但不能选自己的。这是典型的<span style={{color:'red'}}>全错位排列</span>问题。

**解答：**
直接应用错位排列公式 $$D_n$$。本题中 n=4。
根据记忆的常用错位排列数值：$$D_4 = 9$$。

因此，选择 **B**。

<span style={{color:'orange'}}>**考点延伸：**</span> 如果题目改为“5个瓶子都贴了标签，其中恰好贴错了3个”，该如何计算？
**解析：**
1.  **第一步：选出“错”的对象。** 从5个瓶子中选出哪3个是贴错的，方法数为 $$C_5^3 = 10$$。
2.  **第二步：对“错”的对象进行错位排列。** 这3个选出的瓶子和标签必须全部错位，方法数为 $$D_3 = 2$$。
3.  **第三步：计算总量。** 根据乘法原理，总方法数为 $$C_5^3 \times D_3 = 10 \times 2 = 20$$ 种。
</BlurredAnswer>

### 圆周排列

**例5：【圆周排列与捆绑法】**
有5对夫妇参加一场婚宴，他们被安排在一张10个座位的圆桌就餐。问5对夫妇恰好都被安排在一起相邻而坐的概率是多少?

- A. 在1‰到5‰之间
- B. 在5‰到1％之间
- C. 超过1％
- D. 不超过1‰

<BlurredAnswer>
**主题：** 圆周排列 + 捆绑法

**思路剖析：** 本题是求概率，概率 = 满足条件的方法数 / 总方法数。
- **满足条件的方法数**：需要同时用到“捆绑法”（夫妇相邻）和“圆周排列”（圆桌）。
- **总方法数**：10个人无限制地坐圆桌，是标准的圆周排列。

**解答：**
1.  **第一步：计算总方法数（分母）。**
    10个人坐圆桌，是10个元素的圆周排列，方法数为 $$(10-1)! = 9!$$。
2.  **第二步：计算满足条件的方法数（分子）。**
    - **(1) 捆绑：** 将5对夫妇各视为一个整体，现在有5个“大元素”。
    - **(2) 圆周排列：** 让这5个“大元素”坐圆桌，方法数为 $$(5-1)! = 4!$$。
    - **(3) 内部排列：** 每对夫妇内部，两个人可以互换位置，有 $$A_2^2 = 2$$ 种排法。共5对夫妇，所以内部排列总数为 $$2^5$$。
    - **(4) 相乘：** 满足条件的方法总数为 $$4! \times 2^5$$。
3.  **第三步：计算概率。**
    $$ P = \frac{4! \times 2^5}{9!} = \frac{24 \times 32}{362880} = \frac{768}{362880} \approx 0.0021 $$
    概率值约为 2.1‰，在1‰到5‰之间。

因此，选择 **A**。
</BlurredAnswer>

### 综合应用

**例6：【逆向计数法】**
某班有50名学生，其中20名男生，30名女生。从中选出3名学生，要求<span style={{color:'red'}}>至少有1名男生</span>，有多少种选法？

- A. 4060
- B. 15540
- C. 19600
- D. 12400

<BlurredAnswer>
**主题：** 逆向计数法（正难则反）

**思路剖析：** 题目要求“至少有1名男生”，正面求解需要分三种情况：“1男2女”、“2男1女”、“3男0女”，计算较为繁琐。
<span style={{color:'red'}}>“至少”的反面是“一个都没有”</span>。此题“至少有1名男生”的反面就是“选出的3人中没有男生”，即“全是女生”。这是一种更简单的情况。

**解答：**
1.  **第一步：计算总的选法数。** 从50名学生中任意选出3人，不考虑任何限制，方法数为 $$C_{50}^3$$。
    $$C_{50}^3 = \frac{50 \times 49 \times 48}{3 \times 2 \times 1} = 50 \times 49 \times 8 = 19600$$ 种。
2.  **第二步：计算反面情况的选法数。** “全是女生”的情况，即从30名女生中选出3人，方法数为 $$C_{30}^3$$。
    $$C_{30}^3 = \frac{30 \times 29 \times 28}{3 \times 2 \times 1} = 5 \times 29 \times 28 = 4060$$ 种。
3.  **第三步：用总量减去反面情况。** 得到正面情况（至少1名男生）的选法数。
    $$19600 - 4060 = 15540$$ 种。

因此，选择 **B**。
</BlurredAnswer>

<FollowMe />